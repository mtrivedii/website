{
    "auth": {
      "identityProviders": {
        "azureActiveDirectory": {
          "registration": {
            "clientIdSettingName": "AAD_CLIENT_ID",
            "openIdIssuer": "https://login.microsoftonline.com/6d69eb82-d631-4fb0-b1e8-6b4f85197024/v2.0"
          }
        }
      }
    },
    "routes": [
      {
        "route": "/scoreboard.html",
        "serve": "/scoreboard.html",
        "statusCode": 200,
        "headers": {
          "Content-Security-Policy": "default-src 'self'; script-src 'self' 'unsafe-inline' https://ajax.aspnetcdn.com; style-src 'self' 'unsafe-inline'; frame-ancestors 'self'"
        }
      },
      {
        "route": "/users.html",
        "allowedRoles": ["authenticated"],
        "headers": {
          "Content-Security-Policy": "default-src 'self'; script-src 'self' 'unsafe-inline' https://ajax.aspnetcdn.com; style-src 'self' 'unsafe-inline'; frame-ancestors 'self'"
        }
      },
      {
        "route": "/admin.html",
        "allowedRoles": ["admin"],
        "headers": {
          "Content-Security-Policy": "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; frame-ancestors 'self'"
        }
      },
      {
        "route": "/api/users",
        "allowedRoles": ["anonymous", "authenticated"],
        "rewrite": "https://maanit-func.azurewebsites.net/api/users"
      },
      {
        "route": "/api/scoreboard",
        "allowedRoles": ["anonymous", "authenticated"],
        "rewrite": "https://maanit-func.azurewebsites.net/api/scoreboard"
      },
      {
        "route": "/api/upload",
        "allowedRoles": ["anonymous", "authenticated"],
        "rewrite": "https://maanit-func.azurewebsites.net/api/upload"
      },
      {
        "route": "/api/*",
        "allowedRoles": ["anonymous", "authenticated"],
        "rewrite": "https://maanit-func.azurewebsites.net/api/{rest}"
      },
      {
        "route": "/robots.txt",
        "serve": "/robots.txt"
      },
      {
        "route": "/",
        "serve": "/index.html",
        "statusCode": 200,
        "headers": {
          "Content-Security-Policy": "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; frame-ancestors 'self'"
        }
      },
      {
        "route": "/*",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; script-src 'self' 'unsafe-inline' https://ajax.aspnetcdn.com; style-src 'self' 'unsafe-inline'; frame-ancestors 'self'"
        }
      }
    ],
    "navigationFallback": {
      "rewrite": "/index.html",
      "exclude": [
        "/api/*",
        "/admin.html",
        "/users.html",
        "/scoreboard.html",
        "/upload.html"
      ]
    }
  }